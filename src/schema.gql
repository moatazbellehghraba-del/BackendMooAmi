# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type Booking {
  _id: ID!
  date: DateTime!
  service: String!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type Review {
  _id: ID!
  rating: Float!
  comment: String!
}

type Location {
  lat: Float!
  long: Float!
}

type ClientEntity {
  _id: ID!
  firstName: String!
  lastName: String!
  phoneNumber: String!
  bookings: [Booking!]
  reviews: [Review!]
  email: String!
  gender: String
  dateOfBirth: DateTime
  profilePhoto: String
  location: Location
  loyaltyPoints: Float
  createdAt: DateTime
  region: String
  country: String
  updatedAt: DateTime
  favorites: [String!]!
}

type TokenResponse {
  accessToken: String!
  refreshToken: String!
}

type RegisterResponse {
  message: String!
}

type UpdateEmailResponse {
  success: Boolean!
  message: String!
}

type ServiceType {
  _id: ID!
  salon_id: String!
  salon: Salon
  name: String!
  description: String
  duration: Int!
  price: Float!
  category: String!
  employees: [ID!]
  image: String
  homeService: Boolean!
  createdAt: DateTime!
  updatedAt: DateTime!
}

type WorkingHour {
  day: String!
  startTime: String!
  endTime: String!
}

type Employee {
  _id: ID!
  firstName: String!
  lastName: String!
  phoneNumber: String!
  mustChangePassword: Boolean!
  temporaryPassword: String
  email: String!
  profileImage: String
  bio: String
  salon: ID!
  assignedServices: [ID!]
  bookings: [ID!]
  availabilityStatus: String
  workingHours: [WorkingHour!]
  daysOff: [String!]
  reviews: [ID!]
  rating: Float
  reviewCount: Float
  salary: Float
  commissionRate: Float
  totalEarnings: Float
  verified: Boolean
  status: String
  isActive: Boolean
  joinDate: DateTime
  lastLogin: DateTime
  notifications: [String!]
  assignedServicesDetails: [ServiceType!]
  reviewDetails: [Review!]
  isFirstLogin: Boolean!
}

type SalonLocation {
  lat: Float!
  long: Float!
}

type PaymentHistory {
  amount: Float!
  date: DateTime!
  method: String!
  status: String!
}

type RatingItem {
  stars: Int!
  count: Int!
}

type TimeSlot {
  open: String!
  close: String!
}

type OpeningHours {
  day: String!
  slots: [TimeSlot!]
  isClosed: Boolean
}

type Salon {
  _id: ID!
  businessName: String!
  ownerName: String!
  phoneNumber: String!
  email: String!
  password: String
  address: String
  location: SalonLocation
  street: String
  city: String
  country: String
  services: [String!]!
  servicesDetails: [ServiceType!]
  employees: [String!]
  employeesDetails: [Employee!]
  reviews: [String!]
  rating: Float
  reviewCount: Int!
  ratingDistribution: [RatingItem!]
  logo: String
  photos: [String!]
  portfolio: [String!]
  serviceTypes: [String!]
  homeService: Boolean
  cancellationPolicy: String
  socialLinks: [String!]
  certificationUrl: String
  description: String
  numberoflikes: Float
  amenities: [String!]
  businessRegistrationNumber: String
  openingHours: [OpeningHours!]
  isOpenNow: Boolean
  closingDays: [String!]
  salonType: String
  priceRange: String
  averagePrice: Float
  subscriptionType: String!
  subscriptionStartDate: DateTime
  accountExpiryDate: DateTime
  paymentHistory: [PaymentHistory!]
  earnings: Float
  commissionRate: Float
  totalBookings: Float
  viewsCount: Float
  autoAcceptBookings: Boolean
  verified: Boolean
  status: String!
  isActiveAccount: Boolean
  notifications: [String!]
  supportEmail: String
  supportPhone: String
  identityDocumentUrl: String
  createdAt: DateTime!
  updatedAt: DateTime!
}

type PaginationInfo {
  currentPage: Float!
  hasNextPage: Boolean!
  totalResults: Float!
  totalPages: Int!
}

type FilteredSalonsResponse {
  salons: [Salon!]!
  pagination: PaginationInfo!
}

type ClientName {
  firstName: String!
  lastName: String!
}

type ReviewType {
  _id: ID!
  client: ClientName!
  salon: String!
  rating: Float!
  comment: String
  createdAt: DateTime!
  updatedAt: DateTime!
}

type Query {
  me: ClientEntity!
  clients: [ClientEntity!]!
  clientbyid(id: String!): ClientEntity
  clientbyemail(email: String!): ClientEntity
  salons: [Salon!]!
  salon(id: ID!): Salon!
  nearbySalons(lat: Float!, long: Float!, maxDistanceKm: Float = 50): [Salon!]!
  filteredSalons(cities: [String!], serviceTypes: [String!], salonType: String, priceRange: [String!], lat: Float, long: Float, maxDistanceKm: Float = 10, sortBy: String = "TOP_RATED", limit: Float = 25, page: Float = 1): FilteredSalonsResponse!
  getAllServices: [ServiceType!]!
  getServiceById(id: ID!): ServiceType!
  servicesBySalonId(salonId: ID!): [ServiceType!]!
  reviewsBySalon(salonId: String!): [ReviewType!]!
  review(reviewId: String!): ReviewType!
  reviews: [ReviewType!]!
}

type Mutation {
  verifyEmail(email: String!, code: String!): TokenResponse!
  resendVerifyEmail(email: String!): RegisterResponse!
  register(input: CreateClientInput!): RegisterResponse!
  login(input: LoginClientInput!): TokenResponse!
  refresh(userId: String!, refreshToken: String!): TokenResponse!
  createClient(createClientInput: CreateClientInput!): ClientEntity!
  updateClient(updateClientInput: UpdateClientInput!): ClientEntity!
  updateClientEmail(ClientId: String!, email: String!): UpdateEmailResponse!
  verifyUpdatedEmail(email: String!, code: String!): UpdateEmailResponse!
  updateProfileImage(file: Upload!, userId: String!): UpdateEmailResponse!
  removeClient(id: String!): Boolean!
  createSalon(createSalonInput: CreateSalonDto!): Salon!
  updateSalon(id: ID!, updateSalonInput: UpdateSalonDto!): Salon!
  removeSalon(id: ID!): Salon!
  createService(createServiceDto: CreateServiceDto!): ServiceType!
  updateService(id: String!, updateServiceDto: UpdateServiceDto!): ServiceType!
  deleteService(id: ID!): ServiceType!
  createReview(createReviewInput: CreateReviewDto!): ReviewType!
  updateReview(reviewId: String!, updateReviewInput: UpdateReviewInput!): ReviewType!
  deleteReview(reviewId: String!): Boolean!
}

input CreateClientInput {
  firstName: String!
  lastName: String!
  phoneNumber: String!
  email: String!
  password: String!
  gender: String
  dateOfBirth: DateTime
  profilePhoto: String
  profileImageId: String
  location: LocationInput
  region: String
  country: String
  loyaltyPoints: Float
  favorites: [String!]
}

input LocationInput {
  lat: Float!
  long: Float!
}

input LoginClientInput {
  email: String!
  password: String!
}

input UpdateClientInput {
  firstName: String
  lastName: String
  phoneNumber: String
  email: String
  password: String
  gender: String
  dateOfBirth: DateTime
  profilePhoto: String
  profileImageId: String
  location: LocationInput
  region: String
  country: String
  loyaltyPoints: Float
  favorites: [String!]
}

"""The `Upload` scalar type represents a file upload."""
scalar Upload

input CreateSalonDto {
  businessName: String!
  ownerName: String!
  phoneNumber: String!
  email: String!
  password: String!
  salonType: String = "EVERYONE"
  priceRange: String = "MODERATE"
  averagePrice: Float = 0
  address: String
  location: SalonLocationInput
  street: String
  numberoflikes: Float = 0
  city: String
  country: String
  services: [ID!]
  employees: [ID!]
  logo: String
  photos: [String!]
  portfolio: [String!]
  serviceTypes: [String!]
  homeService: Boolean = false
  cancellationPolicy: String
  socialLinks: [String!]
  certificationUrl: String
  description: String
  amenities: [String!]
  businessRegistrationNumber: String
  openingHours: [OpeningHoursInput!]
  closingDays: [String!]
  subscriptionType: String! = "FREE"
  subscriptionStartDate: String
  supportEmail: String
  supportPhone: String
  identityDocumentUrl: String
}

input SalonLocationInput {
  lat: Float!
  long: Float!
}

input OpeningHoursInput {
  day: String!
  slots: [TimeSlotInput!]
  isClosed: Boolean = false
}

input TimeSlotInput {
  open: String!
  close: String!
}

input UpdateSalonDto {
  password: String
  status: String
  verified: Boolean
  autoAcceptBookings: Boolean
}

input CreateServiceDto {
  salon_id: String!
  name: String!
  description: String
  duration: Int!
  price: Float!
  category: String!
  employees: [String!]
  image: String
  homeService: Boolean = false
}

input UpdateServiceDto {
  salon_id: String
  name: String
  description: String
  duration: Int
  price: Float
  category: String
  employees: [String!]
  image: String
  homeService: Boolean = false
}

input CreateReviewDto {
  clientId: String!
  salonId: String!
  rating: Int!
  comment: String
}

input UpdateReviewInput {
  rating: Int
  comment: String
}